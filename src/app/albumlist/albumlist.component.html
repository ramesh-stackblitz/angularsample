<h1>Album List</h1>
<section>
    <ng-container *ngIf="isAdminFlag">
      <div class="table-responsive editor">
        <table class="table table-bordered">
            <thead>
                <tr>
                        <th>ID</th>
                        <th>Thumbnail</th>
                        <th>TitleName</th>
                        <th>AlbumName</th>
                        <th>ComposerName</th>
                        <th>RelasedDate</th>
                        <th>artistName</th>
                        <th>Edit</th>
                        <th>Delete</th>
                </tr>
                      </thead>
                      <tbody>
                            <tr *ngFor="let product of products">
                                    <td>{{product.id}}</td>
                                    <td><img src="{{product.thumnailImg}}" alt="{{product.thumnailImg}}"/></td>
                                    <td>{{product.titleName}}</td>
                                    <td>{{product.albumName}}</td>
                                    <td>{{product.composerName}}</td>
                                    <td>{{product.relasedDate}}</td>
                                    <td>{{product.artistName}}</td>
                                    <td><button class="editBtn" (click)="showEditProductForm(product)">Edit</button></td>
                                    <td><button class="deleteBtn" (click)="removeProduct(product)">Delete</button></td>
                                  </tr>
            </tbody>
        </table>
        </div>
    </ng-container>
    <ng-container *ngIf="isUserFlag">
      <div class="row">
        <div class="col-sm-12 d-flex justify-content-end">
            <div (change)="updateResults()" (keyup)="updateResults()">
              <div class="active-cyan-4 mb-4">
                <input class="form-control" type="text" placeholder="Search" aria-label="Search" [(ngModel)]="searchValue">
              </div>
              <!-- <select [(ngModel)]="filterOption" class="userFilter">
                  <option value="all">All</option>
                  <option value="titleName">Title Name</option>
                  <option value="albumName">Album Name</option>
                  <option value="composerName">Composer Name</option>
                  <option value="artistName">Artist Name</option>
                </select> -->
            </div>
        </div>
      </div>
      <div class="table-responsive editor">
        <table class="table table-bordered">
            <thead>
                <tr>
                        <th>ID</th>
                        <th>Thumbnail</th>
                        <th>TitleName</th>
                        <th>AlbumName</th>
                        <th>ComposerName</th>
                        <th>RelasedDate</th>
                        <th>artistName</th>
                </tr>
                      </thead>
                      <tbody>
                            <tr *ngFor="let product of filterItems">
                                    <td>{{product.id}}</td>
                                    <td><img src="{{product.thumnailImg}}" alt="{{product.thumnailImg}}"/></td>
                                    <td>{{product.titleName}}</td>
                                    <td>{{product.albumName}}</td>
                                    <td>{{product.composerName}}</td>
                                    <td>{{product.relasedDate}}</td>
                                    <td>{{product.artistName}}</td>
                                  </tr>
                            <tr *ngIf="filterItems.length == 0">
                              <td colspan="7">No data found</td>
                            </tr>
            </tbody>
        </table>
        </div>
    </ng-container>
    <ng-container *ngIf="!isUserFlag && !isAdminFlag">
        <div class="table-responsive editor">
          <table class="table table-bordered">
              <thead>
                  <tr>
                          <th>ID</th>
                          <th>Thumbnail</th>
                          <th>TitleName</th>
                          <th>AlbumName</th>
                          <th>ComposerName</th>
                          <th>RelasedDate</th>
                          <th>artistName</th>
                  </tr>
                        </thead>
                        <tbody>
                              <tr *ngFor="let product of products">
                                      <td>{{product.id}}</td>
                                      <td><img src="{{product.thumnailImg}}" alt="{{product.thumnailImg}}"/></td>
                                      <td>{{product.titleName}}</td>
                                      <td>{{product.albumName}}</td>
                                      <td>{{product.composerName}}</td>
                                      <td>{{product.relasedDate}}</td>
                                      <td>{{product.artistName}}</td>
                                    </tr>
              </tbody>
          </table>
          </div>
      </ng-container>
</section>
<!-- <div class="titleContainer">
  <div class="idTitle">ID</div>
  <div class="nameTitle">Name</div>
  <div class="descriptionTitle">Description</div>
  <div class="priceTitle">Price</div>
  <div class="buttonTitle"></div>
</div>

<table>
  <tr>
    <th>ID</th>
    <th>Name</th>
    <th>Desc</th>
    <th>price</th>
    <th></th>
    <th></th>
  </tr>
  <tr *ngFor="let product of products">
    <td>{{product.id}}</td>
    <td>{{product.titleName}}</td>
    <td>{{product.albumName}}</td>
    <td>{{product.composerName}}</td>
    <td>{{product.relasedDate}}</td>
    <td>{{product.artistName}}</td>
    <td><button class="editBtn" (click)="showEditProductForm(product)">Edit</button></td>
    <td><button class="deleteBtn" (click)="removeProduct(product)">Delete</button></td>
  </tr>
</table> -->
<!-- <div class="infoContainer" *ngFor="let product of products">
  <div class="id">{{product.id}}</div>
  <div class="name">{{product.name}}</div>
  <div class="description">{{product.description}}</div>
  <div class="price">{{product.price | currency: 'USD': true: '1.0-2' }}</div>
  <div class="button">
      <button class="editBtn" (click)="showEditProductForm(product)">test</button>
      <button class="deleteBtn" (click)="removeProduct(product)">Delete</button>
  </div>
</div> -->

<section>
    <div class="d-flex justify-content-end" *ngIf="isAdminFlag">
        <button class="addBtn m-3" (click)="showAddProductForm()">Add Album List</button>
    </div>
        <form *ngIf="productForm">
                <div class="form-group row">
                  <label for="id" class="col-sm-2 col-form-label col-form-label-sm">ID</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control form-control-sm" name="id" [(ngModel)]="newProduct.id">
                </div>
                </div>
                <div class="form-group row">
                  <label for="colFormLabel" class="col-sm-2 col-form-label col-form-label-sm">Title Name</label>
                  <div class="col-sm-10">
                        <input type="text" class="form-control form-control-sm" name="titleName" [(ngModel)]="newProduct.titleName">
                  </div>
                </div>
                <div class="form-group row">
                        <label for="colFormLabel" class="col-sm-2 col-form-label col-form-label-sm">Thumbnail</label>
                        <div class="col-sm-10 imageUpload">
                              <!-- <input type="text" class="form-control form-control-sm" name="titleName" [(ngModel)]="newProduct.titleName"> -->
                              <img [src]="imageUrl" class="mr-3" />
                              <input type='file' (change)="onSelectFile($event)" value="{{imageUrl}}" name="thumnailImg" [(ngModel)]="newProduct.thumnailImg" />
                              <p>{{newProduct.thumnailImg}}</p>
                              <img [src]="newProduct.thumnailImg" class="mr-3" />
                            </div>
                      </div>
                <div class="form-group row">
                  <label for="albumName" class="col-sm-2 col-form-label col-form-label-sm">Album Name</label>
                  <div class="col-sm-10">
                        <input type="text" class="form-control form-control-sm"  name="albumName" [(ngModel)]="newProduct.albumName">
                  </div>
                </div>
                <div class="form-group row">
                        <label for="composerName" class="col-sm-2 col-form-label col-form-label-sm">Composer Name</label>
                        <div class="col-sm-10">
                              <input type="text" class="form-control form-control-sm"  name="albumName" [(ngModel)]="newProduct.composerName">
                        </div>
                      </div>
                <div class="form-group row">
                    <label for="relasedDate" class="col-sm-2 col-form-label col-form-label-sm">Relased Date</label>
                    <div class="col-sm-10">
                        <input type="date" class="form-control form-control-sm"  name="albumName" [(ngModel)]="newProduct.relasedDate">
                    </div>
                </div>
                <div class="form-group row">
                        <label for="artistName" class="col-sm-2 col-form-label col-form-label-sm">Artist Name</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control form-control-sm"  name="artistName" [(ngModel)]="newProduct.artistName">
                        </div>
                    </div>
    <div class="d-flex justify-content-end mb-5">
            <button class="btn btn-primary mr-2" (click)="saveProduct(newProduct)">Submit</button>
            <button class="btn btn-secondary" (click)="cancelNewProduct()">Cancel</button>
    </div>           
    </form>
</section>
<section>
            <form *ngIf="editProductForm">
                    <div class="form-group row">
                      <label for="id" class="col-sm-2 col-form-label col-form-label-sm">ID</label>
                      <div class="col-sm-10">
                        <input type="text" class="form-control form-control-sm" name="id" [(ngModel)]="editedProduct.id">
                    </div>
                    </div>
                    <div class="form-group row">
                      <label for="colFormLabel" class="col-sm-2 col-form-label col-form-label-sm">Title Name</label>
                      <div class="col-sm-10">
                            <input type="text" class="form-control form-control-sm" name="titleName" [(ngModel)]="editedProduct.titleName">
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="albumName" class="col-sm-2 col-form-label col-form-label-sm">Album Name</label>
                      <div class="col-sm-10">
                            <input type="text" class="form-control form-control-sm"  name="albumName" [(ngModel)]="editedProduct.albumName">
                      </div>
                    </div>
                    <div class="form-group row">
                            <label for="composerName" class="col-sm-2 col-form-label col-form-label-sm">Composer Name</label>
                            <div class="col-sm-10">
                                  <input type="text" class="form-control form-control-sm"  name="composerName" [(ngModel)]="editedProduct.composerName">
                            </div>
                          </div>
                    <div class="form-group row">
                        <label for="relasedDate" class="col-sm-2 col-form-label col-form-label-sm">Relased Date</label>
                        <div class="col-sm-10">
                            <input type="date" class="form-control form-control-sm"  name="relasedDate" [(ngModel)]="editedProduct.relasedDate">
                        </div>
                    </div>
                    <div class="form-group row">
                            <label for="artistName" class="col-sm-2 col-form-label col-form-label-sm">Artist Name</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control form-control-sm"  name="artistName" [(ngModel)]="editedProduct.artistName">
                            </div>
                        </div>
        <div class="d-flex justify-content-end mb-5">
                <button class="btn btn-primary mr-2" (click)="saveProduct(editedProduct)">Submit</button>
                <button class="btn btn-secondary" (click)="cancelEdits()">Cancel</button>
        </div>           
        </form>
    </section>



<!-- <form *ngIf="productForm">
  <h2>Add New Album</h2>
  <div>
    <input type="text"
           placeholder="Id"
           name="id"
           [(ngModel)]="newProduct.id">
  </div>

  <div>
    <input type="text"
           placeholder="Name"
           name="name"
           [(ngModel)]="newProduct.titleName">
  </div>

  <div>
    <input type="text"
           placeholder="description"
           name="descrption"
           [(ngModel)]="newProduct.albumName">
  </div>

   <div>
    <input type="text"
           placeholder="price"
           name="price"
           [(ngModel)]="newProduct.price">
  </div>

  <button (click)="saveProduct(newProduct)">Submit</button>
  <button (click)="cancelNewProduct()">Cancel</button>

</form> -->







<!-- <form *ngIf="editProductForm">
  <h2>Edit Details</h2>
  <div>
    <input type="text"
           name="id"
           [(ngModel)]="editedProduct.id">
  </div>

  <div>
    <input type="text"
           name="Title Name"
           [(ngModel)]="editedProduct.titleName">
  </div>

  <div>
    <input type="text"
           name="Album Name"
           [(ngModel)]="editedProduct.albumName">
  </div>

   <div>
    <input type="text"
           name="Composer Name"
           [(ngModel)]="editedProduct.composerName">
  </div>
   <div>
    <input type="text"
           name="Relased Date"
           [(ngModel)]="editedProduct.relasedDate">
  </div>
   <div>
    <input type="text"
           name="Artist Name"
           [(ngModel)]="editedProduct.artistName">
  </div>

  <button (click)="updateProduct(editedProduct)">Submit</button>
  <button (click)="cancelEdits()">Cancel</button>

</form> -->
<!-- <div *ngFor="let product of products"> -->
    <!-- <img src="product.thumnailImg"/> -->
<!-- </div> -->